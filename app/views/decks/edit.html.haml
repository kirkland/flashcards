%h1 Editing deck
- form_for @deck do |f|
  - if @deck.errors.any?
    #error_explanation
      %h2
        = pluralize(@deck.errors.count, "error")
        prohibited this deck from being saved:
      %ul
        - @deck.errors.full_messages.each do |msg|
          %li= msg
  .field
    = f.label :title
    %br/
    = f.text_field :title
  .field
    -if @deck.new_record?
      .field
        =f.fields_for :cards do |cf|
          = cf.text_field :front
          = cf.text_field :back
          %br/
    -else
      .field
        =f.fields_for :cards do |cf|
          = cf.text_field :front
          = cf.text_field :back
          %br/
  .actions
    = f.submit
= link_to 'Show', @deck
|
\#{link_to 'Back', decks_path}
